<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.RefundDAO">
  	<!-- DB의 컬럼명과 VO의 변수명 맵핑 -->
  	<resultMap type="refundVO" id="refundMap">
  		<result column="payment_no" property="paymentNo" />
  		<result column="refund_date" property="refundDate" />
  	</resultMap>
  	
  	<sql id="selectRefund">
  		select no, payment_no, amount, refund_date, reason, status
  		  from refund
  	</sql>

  	
  	<!-- 전체 환불 목록 조회 -->
  	<select id="selectAll" resultMap="refundMap">
  		<include refid="selectRefund" />
  		 order by refund_date desc 	
  	</select>
  	 
  	  	
  	  	
  	<!-- 이용권 내역 삽입 -->
  	<insert id="insert" parameterType="refundVO">
  		INSERT INTO PASS (NO, NAME, DESCRIPTION, PRICE, DURATION, TOTAL_CLASSES)
		VALUES (SEQ_PASS_NO.nextval, #{name}, #{description}, #{price}, #{duration}, #{totalClasses})
  	</insert>
</mapper>